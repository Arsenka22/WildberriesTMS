{"mappings":"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","sources":["src/app.js","src/modules/slider.js","src/modules/state.js","src/modules/data.js","src/modules/search.js","src/modules/cart.js","src/modules/products.js","src/modules/modal.js","src/modules/timer.js"],"sourcesContent":["import { initSlider } from \"./modules/slider.js\";\r\nimport { initSearch } from \"./modules/search.js\";\r\nimport { initCart } from \"./modules/cart.js\";\r\nimport { initProducts } from \"./modules/products.js\";\r\nimport { initModal } from \"./modules/modal.js\";\r\nimport { initTimer } from \"./modules/timer.js\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  initSlider();\r\n  const cartModule = initCart();\r\n  const productsModule = initProducts(cartModule);\r\n  initModal(productsModule);\r\n  initTimer(productsModule, cartModule);\r\n  initSearch(productsModule);\r\n  productsModule.renderProducts();\r\n  window.shopApp = { cart: cartModule, products: productsModule };\r\n});\r\n","import { state } from \"./state.js\";\r\n\r\nexport function initSlider() {\r\n  const slider = document.getElementById(\"slider\");\r\n  const slides = document.querySelectorAll(\"#slider > div\");\r\n  const dots = document.querySelectorAll(\".dot\");\r\n  const prevButton = document.getElementById(\"prev\");\r\n  const nextButton = document.getElementById(\"next\");\r\n\r\n  function updateDots() {\r\n    dots.forEach((dot, i) => {\r\n      dot.classList.toggle(\"bg-yellow-400\", i === state.currentSlide);\r\n      dot.classList.toggle(\"bg-yellow-200\", i !== state.currentSlide);\r\n    });\r\n  }\r\n\r\n  function showSlide(index) {\r\n    if (!slider || !slides.length) return;\r\n    state.currentSlide = (index + slides.length) % slides.length;\r\n    slider.style.transform = `translateX(-${state.currentSlide * 100}%)`;\r\n    updateDots();\r\n  }\r\n\r\n  function startSlider() {\r\n    clearInterval(state.slideInterval);\r\n    state.slideInterval = setInterval(() => showSlide(state.currentSlide + 1), 3000);\r\n  }\r\n\r\n  if (slider && slides.length) {\r\n    showSlide(0);\r\n    startSlider();\r\n\r\n    nextButton?.addEventListener(\"click\", () => {\r\n      showSlide(state.currentSlide + 1);\r\n      startSlider();\r\n    });\r\n\r\n    prevButton?.addEventListener(\"click\", () => {\r\n      showSlide(state.currentSlide - 1);\r\n      startSlider();\r\n    });\r\n\r\n    dots.forEach((dot, i) => dot.addEventListener(\"click\", () => {\r\n      showSlide(i);\r\n      startSlider();\r\n    }));\r\n\r\n    slider.parentElement?.addEventListener(\"mouseenter\", () => clearInterval(state.slideInterval));\r\n    slider.parentElement?.addEventListener(\"mouseleave\", startSlider);\r\n  }\r\n}\r\n","import { objCards } from \"./data.js\";\r\n\r\nexport const state = {\r\n  cartData: JSON.parse(localStorage.getItem(\"cartData\")) || [],\r\n  allProducts: (() => {\r\n    const saved = JSON.parse(localStorage.getItem(\"cards\"));\r\n    if (saved && saved.length) return saved;\r\n    localStorage.setItem(\"cards\", JSON.stringify(objCards));\r\n    return [...objCards];\r\n  })(),\r\n  isSaleActive: true,\r\n  currentSlide: 0,\r\n  slideInterval: null,\r\n};\r\n","export const objCards = [\r\n  { id: 1, image: \"image_1.jpg\", name: \"Сумка\", newPrice: 100, oldPrice: 150, discount: 33 },\r\n  { id: 2, image: \"image_2.jpg\", name: \"Золотой браслет\", newPrice: 200, oldPrice: 350, discount: 43 },\r\n  { id: 3, image: \"image_3.jpg\", name: \"Кожаный ремень\", newPrice: 50, oldPrice: 100, discount: 50 },\r\n  { id: 4, image: \"image_4.jpg\", name: \"Кроссовки\", newPrice: 100, oldPrice: 250, discount: 60 },\r\n  { id: 5, image: \"image_5.jpg\", name: \"Вязаная кофта\", newPrice: 75, oldPrice: 95, discount: 21 },\r\n];","import { state } from \"./state.js\";\r\n\r\nexport function initSearch(productsModule) {\r\n  const searchInput = document.getElementById(\"search\");\r\n  if (!searchInput) return;\r\n\r\n  searchInput.addEventListener(\"input\", (e) => {\r\n    const searchText = e.target.value.trim().toLowerCase();\r\n    const filtered = searchText\r\n      ? state.allProducts.filter((p) => p.name.toLowerCase().includes(searchText))\r\n      : state.allProducts;\r\n    productsModule.renderProducts(filtered);\r\n  });\r\n}","import { state } from \"./state.js\";\r\n\r\nexport function initCart() {\r\n  const busketButton = document.getElementById(\"busketButton\");\r\n  const cartElement = document.getElementById(\"cart\");\r\n\r\n  const saveCart = () => localStorage.setItem(\"cartData\", JSON.stringify(state.cartData));\r\n\r\n  function renderCart() {\r\n    if (!cartElement) return;\r\n\r\n    cartElement.innerHTML = `\r\n      <div class=\"flex justify-between items-center mb-4\">\r\n        <h2 class=\"text-2xl font-bold text-white\">Корзина</h2>\r\n        <button id=\"closeCart\" class=\"text-white text-2xl cursor-pointer hover:text-gray-300\">✕</button>\r\n      </div>\r\n      <div id=\"cart-items\" class=\"flex-grow\"></div>\r\n      <div id=\"cart-total\" class=\"text-white font-bold mt-4 pt-4 border-t border-gray-600 text-xl\"></div>`;\r\n\r\n    const cartItems = document.getElementById(\"cart-items\");\r\n    const cartTotal = document.getElementById(\"cart-total\");\r\n    document.getElementById(\"closeCart\")?.addEventListener(\"click\", () => cartElement.classList.add(\"hidden\"));\r\n\r\n    if (!state.cartData.length) {\r\n      cartItems.innerHTML = '<p class=\"text-white text-center py-4\">Корзина пуста</p>';\r\n      cartTotal.textContent = \"\";\r\n      return;\r\n    }\r\n\r\n    let total = 0;\r\n    state.cartData.forEach((item) => {\r\n      const itemTotal = item.newPrice * item.quantity;\r\n      total += itemTotal;\r\n      cartItems.innerHTML += `\r\n        <div class=\"cart-item mb-3 p-3 bg-gray-600 rounded-lg\">\r\n          <div class=\"flex justify-between items-start\">\r\n            <div class=\"flex-1\">\r\n              <h3 class=\"font-bold text-white\">${item.name}</h3>\r\n              <div class=\"flex justify-between mt-2\">\r\n                <div>\r\n                  <span class=\"text-white\">Цена: ${item.newPrice} руб.</span>\r\n                  <div class=\"flex items-center mt-1\">\r\n                    <button class=\"decrease-btn text-white bg-gray-500 rounded w-6 h-6 flex items-center justify-center\" data-id=\"${item.id}\">-</button>\r\n                    <span class=\"text-white mx-2\">${item.quantity}</span>\r\n                    <button class=\"increase-btn text-white bg-gray-500 rounded w-6 h-6 flex items-center justify-center\" data-id=\"${item.id}\">+</button>\r\n                  </div>\r\n                </div>\r\n                <span class=\"font-bold text-white\">${itemTotal} руб.</span>\r\n              </div>\r\n            </div>\r\n            <button class=\"remove-item text-red-400 hover:text-red-300 ml-4\" data-id=\"${item.id}\">✕</button>\r\n          </div>\r\n        </div>`;\r\n    });\r\n\r\n    cartTotal.innerHTML = `\r\n      <div class=\"flex justify-between\"><span>Итого:</span><span>${total} руб.</span></div>\r\n      <button id=\"checkout-btn\" class=\"w-full mt-4 bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700\">Оформить заказ</button>`;\r\n\r\n    cartItems.querySelectorAll(\".remove-item\").forEach((btn) => btn.addEventListener(\"click\", (e) => {\r\n      removeFromCart(+e.currentTarget.dataset.id);\r\n    }));\r\n\r\n    cartItems.querySelectorAll(\".decrease-btn\").forEach((btn) => btn.addEventListener(\"click\", (e) => {\r\n      updateQuantity(+e.currentTarget.dataset.id, \"decrease\");\r\n    }));\r\n\r\n    cartItems.querySelectorAll(\".increase-btn\").forEach((btn) => btn.addEventListener(\"click\", (e) => {\r\n      updateQuantity(+e.currentTarget.dataset.id, \"increase\");\r\n    }));\r\n\r\n    document.getElementById(\"checkout-btn\")?.addEventListener(\"click\", () => {\r\n      alert(\"Заказ оформлен! Спасибо за покупку!\");\r\n      state.cartData = [];\r\n      saveCart();\r\n      cartElement.classList.add(\"hidden\");\r\n    });\r\n  }\r\n\r\n  const showCart = () => {\r\n    renderCart();\r\n    cartElement.classList.remove(\"hidden\");\r\n  };\r\n\r\n  function showNotification(msg) {\r\n    let note = document.getElementById(\"cart-notification\");\r\n    note?.remove();\r\n    note = document.createElement(\"div\");\r\n    note.id = \"cart-notification\";\r\n    note.textContent = msg;\r\n    note.className = \"fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg z-50 animate-fade-in\";\r\n    document.body.appendChild(note);\r\n    setTimeout(() => {\r\n      note.classList.replace(\"animate-fade-in\", \"animate-fade-out\");\r\n      setTimeout(() => note.remove(), 300);\r\n    }, 2000);\r\n  }\r\n\r\n  function addToCart(id) {\r\n    const product = state.allProducts.find((p) => p.id === id);\r\n    if (!product) return;\r\n    const existing = state.cartData.find((i) => i.id === id);\r\n    existing ? existing.quantity++ : state.cartData.push({ ...product, quantity: 1 });\r\n    showNotification(`Добавлено в корзину: ${product.name}`);\r\n    renderCart();\r\n    saveCart();\r\n  }\r\n\r\n  function removeFromCart(id) {\r\n    state.cartData = state.cartData.filter((i) => i.id !== id);\r\n    renderCart();\r\n    saveCart();\r\n  }\r\n\r\n  function updateQuantity(id, action) {\r\n    const item = state.cartData.find((i) => i.id === id);\r\n    if (!item) return;\r\n    action === \"increase\" ? item.quantity++ : (item.quantity = Math.max(1, item.quantity - 1));\r\n    renderCart();\r\n    saveCart();\r\n  }\r\n\r\n  busketButton?.addEventListener(\"click\", showCart);\r\n\r\n  return { addToCart, renderCart, removeFromCart, updateQuantity };\r\n}\r\n","import { state } from \"./state.js\";\r\n\r\nexport function initProducts(cart) {\r\n  const appContainer = document.getElementById(\"app\");\r\n  if (!appContainer) return { renderProducts: () => {} };\r\n\r\n  appContainer.addEventListener(\"click\", (e) => {\r\n    const btn = e.target.closest(\".cart-btn\");\r\n    if (btn) cart.addToCart(+btn.dataset.id);\r\n  });\r\n\r\n  function createCard(product) {\r\n    const { id, image, newPrice, oldPrice, discount, name } = product;\r\n    const displayPrice = state.isSaleActive ? newPrice : oldPrice ?? newPrice;\r\n    const displayOldPrice = state.isSaleActive && oldPrice ? oldPrice : null;\r\n    const showDiscount = state.isSaleActive && discount;\r\n\r\n    const card = document.createElement(\"div\");\r\n    card.className = \"card w-full max-w-xs bg-white shadow-lg rounded-lg overflow-hidden\";\r\n    card.innerHTML = `\r\n      <div class=\"relative h-48 bg-gray-200 flex items-center justify-center\">\r\n        ${image ? `<img src=\"img/${image}\" alt=\"${name}\" class=\"w-full h-full object-cover\">` : '<span class=\"text-gray-500\">Изображение товара</span>'}\r\n        ${showDiscount ? `<div class=\"absolute left-2 top-2 bg-red-500 text-white font-bold px-2 py-1 rounded\">-${discount}%</div>` : \"\"}\r\n        <button class=\"absolute right-2 bottom-2 p-2 bg-indigo-600 rounded-full text-white cursor-pointer hover:bg-indigo-700 cart-btn\" data-id=\"${id}\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\"><path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\"/></svg>\r\n        </button>\r\n      </div>\r\n      <div class=\"p-4\">\r\n        <div class=\"flex justify-between items-center mb-2\">\r\n          <div class=\"text-lg font-bold\">${displayPrice} ₽</div>\r\n          ${displayOldPrice ? `<div class=\"text-gray-500 line-through text-sm\">${displayOldPrice} ₽</div>` : \"\"}\r\n        </div>\r\n        <div class=\"name text-gray-800\">${name}</div>\r\n      </div>`;\r\n    return card;\r\n  }\r\n\r\n  function renderProducts(list = state.allProducts) {\r\n    if (!appContainer) return;\r\n    appContainer.innerHTML = \"\";\r\n    list.forEach((p) => appContainer.appendChild(createCard(p)));\r\n  }\r\n\r\n  return { renderProducts };\r\n}\r\n","import { state } from \"./state.js\";\r\n\r\nexport function initModal(productsModule) {\r\n  const modal = document.getElementById(\"productModal\");\r\n  const overlay = document.getElementById(\"backgroundModal\");\r\n  const closeBtn = document.getElementById(\"closeProductModal\");\r\n  const form = document.getElementById(\"updateProductForm\");\r\n  const addBtn = document.getElementById(\"add-product-button\");\r\n\r\n  const open = () => {\r\n    modal?.classList.remove(\"hidden\");\r\n    overlay?.classList.remove(\"hidden\");\r\n    document.body.classList.add(\"overflow-hidden\");\r\n  };\r\n  const close = () => {\r\n    modal?.classList.add(\"hidden\");\r\n    overlay?.classList.add(\"hidden\");\r\n    document.body.classList.remove(\"overflow-hidden\");\r\n  };\r\n\r\n  closeBtn?.addEventListener(\"click\", close);\r\n  addBtn?.addEventListener(\"click\", open);\r\n\r\n  form?.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    const name = document.getElementById(\"productName\")?.value;\r\n    const newPrice = parseFloat(document.getElementById(\"productNewPrice\")?.value);\r\n    const oldPrice = parseFloat(document.getElementById(\"productOldPrice\")?.value);\r\n    const discount = parseInt(document.getElementById(\"productDiscount\")?.value);\r\n    if (!name || Number.isNaN(newPrice) || Number.isNaN(discount)) {\r\n      alert(\"Пожалуйста, заполните обязательные поля\");\r\n      return;\r\n    }\r\n    const newId = state.allProducts.length ? Math.max(...state.allProducts.map((p) => p.id)) + 1 : 1;\r\n    state.allProducts.push({ id: newId, image: \"image_6.jpg\", name, newPrice, oldPrice: Number.isNaN(oldPrice) ? null : oldPrice, discount });\r\n    localStorage.setItem(\"cards\", JSON.stringify(state.allProducts));\r\n    productsModule.renderProducts();\r\n    close();\r\n    form.reset();\r\n  });\r\n}\r\n","import { state } from \"./state.js\";\r\n\r\nexport function initTimer(productsModule, cartModule) {\r\n  const timer = document.createElement(\"div\");\r\n  timer.classList.add(\"font-bold\", \"text-4xl\", \"text-red-500\", \"flex\", \"justify-center\", \"my-6\", \"p-4\", \"bg-gray-100\", \"rounded\");\r\n  const hSpan = document.createElement(\"span\");\r\n  const mSpan = document.createElement(\"span\");\r\n  const sSpan = document.createElement(\"span\");\r\n  mSpan.textContent = \"00:\";\r\n  sSpan.textContent = \"05\";\r\n  timer.append(hSpan, mSpan, sSpan);\r\n  const appContainer = document.getElementById(\"app\");\r\n  appContainer?.parentNode?.insertBefore(timer, appContainer);\r\n\r\n  let h = 0, m = 0, s = 5;\r\n  const secInterval = setInterval(() => {\r\n    if (s > 0) {\r\n      s--;\r\n      sSpan.textContent = s.toString().padStart(2, \"0\");\r\n    } else {\r\n      if (m === 0 && h === 0) {\r\n        clearInterval(secInterval);\r\n        timer.innerHTML = '<span class=\"text-2xl\">Акция завершена!</span>';\r\n        state.isSaleActive = false;\r\n        productsModule.renderProducts();\r\n        cartModule.renderCart();\r\n        return;\r\n      }\r\n      s = 59;\r\n      sSpan.textContent = s.toString().padStart(2, \"0\");\r\n      if (m > 0) {\r\n        m--;\r\n        mSpan.textContent = m.toString().padStart(2, \"0\") + ':';\r\n      } else {\r\n        m = 59;\r\n        mSpan.textContent = m.toString().padStart(2, \"0\") + ':';\r\n        if (h > 0) {\r\n          h--;\r\n          hSpan.textContent = h.toString().padStart(2, \"0\") + ':';\r\n        }\r\n      }\r\n    }\r\n  }, 1000);\r\n}"],"names":[],"version":3,"file":"WildberriesTMS.d1064b35.js.map"}