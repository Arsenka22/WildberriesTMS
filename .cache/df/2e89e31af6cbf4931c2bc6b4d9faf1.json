{"id":"modules/products.js","dependencies":[{"name":"C:\\WildberriesTMS\\package.json","includedInParent":true,"mtime":1750694789472},{"name":"./state.js","loc":{"line":1,"column":22,"index":22},"parent":"C:\\WildberriesTMS\\src\\modules\\products.js","resolved":"C:\\WildberriesTMS\\src\\modules\\state.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initProducts = initProducts;\nvar _state = require(\"./state.js\");\nfunction initProducts(cart) {\n  var appContainer = document.getElementById(\"app\");\n  if (!appContainer) return {\n    renderProducts: function renderProducts() {}\n  };\n  appContainer.addEventListener(\"click\", function (e) {\n    var btn = e.target.closest(\".cart-btn\");\n    if (btn) cart.addToCart(+btn.dataset.id);\n  });\n  function createCard(product) {\n    var id = product.id,\n      image = product.image,\n      newPrice = product.newPrice,\n      oldPrice = product.oldPrice,\n      discount = product.discount,\n      name = product.name;\n    var displayPrice = _state.state.isSaleActive ? newPrice : oldPrice !== null && oldPrice !== void 0 ? oldPrice : newPrice;\n    var displayOldPrice = _state.state.isSaleActive && oldPrice ? oldPrice : null;\n    var showDiscount = _state.state.isSaleActive && discount;\n    var card = document.createElement(\"div\");\n    card.className = \"card w-full max-w-xs bg-white shadow-lg rounded-lg overflow-hidden\";\n    card.innerHTML = \"\\n      <div class=\\\"relative h-48 bg-gray-200 flex items-center justify-center\\\">\\n        \".concat(image ? \"<img src=\\\"img/\".concat(image, \"\\\" alt=\\\"\").concat(name, \"\\\" class=\\\"w-full h-full object-cover\\\">\") : '<span class=\"text-gray-500\">Изображение товара</span>', \"\\n        \").concat(showDiscount ? \"<div class=\\\"absolute left-2 top-2 bg-red-500 text-white font-bold px-2 py-1 rounded\\\">-\".concat(discount, \"%</div>\") : \"\", \"\\n        <button class=\\\"absolute right-2 bottom-2 p-2 bg-indigo-600 rounded-full text-white cursor-pointer hover:bg-indigo-700 cart-btn\\\" data-id=\\\"\").concat(id, \"\\\">\\n          <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"h-5 w-5\\\" viewBox=\\\"0 0 20 20\\\" fill=\\\"currentColor\\\"><path d=\\\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\\\"/></svg>\\n        </button>\\n      </div>\\n      <div class=\\\"p-4\\\">\\n        <div class=\\\"flex justify-between items-center mb-2\\\">\\n          <div class=\\\"text-lg font-bold\\\">\").concat(displayPrice, \" \\u20BD</div>\\n          \").concat(displayOldPrice ? \"<div class=\\\"text-gray-500 line-through text-sm\\\">\".concat(displayOldPrice, \" \\u20BD</div>\") : \"\", \"\\n        </div>\\n        <div class=\\\"name text-gray-800\\\">\").concat(name, \"</div>\\n      </div>\");\n    return card;\n  }\n  function renderProducts() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _state.state.allProducts;\n    if (!appContainer) return;\n    appContainer.innerHTML = \"\";\n    list.forEach(function (p) {\n      return appContainer.appendChild(createCard(p));\n    });\n  }\n  return {\n    renderProducts: renderProducts\n  };\n}"},"sourceMaps":null,"error":null,"hash":"794e88294e75ede7eff0d8a7540cbcbf","cacheData":{"env":{}}}