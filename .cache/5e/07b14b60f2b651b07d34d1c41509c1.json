{"id":"Edc2","dependencies":[{"name":"C:\\WildberriesTMS\\package.json","includedInParent":true,"mtime":1750697798838},{"name":"./state.js","loc":{"line":1,"column":22,"index":22},"parent":"C:\\WildberriesTMS\\src\\modules\\timer.js","resolved":"C:\\WildberriesTMS\\src\\modules\\state.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.initTimer=e;var t=require(\"./state.js\");function e(e,n){var r,a=document.createElement(\"div\");a.classList.add(\"font-bold\",\"text-4xl\",\"text-red-500\",\"flex\",\"justify-center\",\"my-6\",\"p-4\",\"bg-gray-100\",\"rounded\");var o=document.createElement(\"span\"),d=document.createElement(\"span\"),i=document.createElement(\"span\");d.textContent=\"00:\",i.textContent=\"05\",a.append(o,d,i);var s=document.getElementById(\"app\");null==s||null===(r=s.parentNode)||void 0===r||r.insertBefore(a,s);var l=0,c=0,p=59,u=setInterval(function(){if(p>0)p--,i.textContent=p.toString().padStart(2,\"0\");else{if(0===c&&0===l)return clearInterval(u),a.innerHTML='<span class=\"text-2xl\">Акция завершена!</span>',t.state.isSaleActive=!1,e.renderProducts(),void n.renderCart();p=59,i.textContent=p.toString().padStart(2,\"0\"),c>0?(c--,d.textContent=c.toString().padStart(2,\"0\")+\":\"):(c=59,d.textContent=c.toString().padStart(2,\"0\")+\":\",l>0&&(l--,o.textContent=l.toString().padStart(2,\"0\")+\":\"))}},1e3)}"},"sourceMaps":{"js":{"mappings":[{"source":"modules/timer.js","original":{"line":44,"column":0},"generated":{"line":1,"column":0}},{"source":"modules/timer.js","original":{"line":44,"column":0},"generated":{"line":1,"column":13}},{"source":"modules/timer.js","original":{"line":44,"column":0},"generated":{"line":1,"column":20}},{"source":"modules/timer.js","original":{"line":44,"column":0},"generated":{"line":1,"column":35}},{"source":"modules/timer.js","original":{"line":44,"column":0},"generated":{"line":1,"column":43}},{"source":"modules/timer.js","original":{"line":44,"column":0},"generated":{"line":1,"column":56}},{"source":"modules/timer.js","original":{"line":44,"column":0},"generated":{"line":1,"column":57}},{"source":"modules/timer.js","original":{"line":44,"column":0},"generated":{"line":1,"column":64}},{"source":"modules/timer.js","original":{"line":44,"column":0},"generated":{"line":1,"column":68}},{"source":"modules/timer.js","original":{"line":44,"column":0},"generated":{"line":1,"column":76}},{"source":"modules/timer.js","original":{"line":44,"column":0},"generated":{"line":1,"column":86}},{"source":"modules/timer.js","original":{"line":1,"column":0},"generated":{"line":1,"column":88}},{"source":"modules/timer.js","name":"_state","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"modules/timer.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"modules/timer.js","original":{"line":1,"column":0},"generated":{"line":1,"column":102}},{"source":"modules/timer.js","original":{"line":3,"column":7},"generated":{"line":1,"column":116}},{"source":"modules/timer.js","name":"initTimer","original":{"line":3,"column":16},"generated":{"line":1,"column":125}},{"source":"modules/timer.js","name":"productsModule","original":{"line":3,"column":26},"generated":{"line":1,"column":127}},{"source":"modules/timer.js","name":"cartModule","original":{"line":3,"column":42},"generated":{"line":1,"column":129}},{"source":"modules/timer.js","original":{"line":3,"column":54},"generated":{"line":1,"column":132}},{"source":"modules/timer.js","name":"_appContainer$parentN","original":{"line":3,"column":54},"generated":{"line":1,"column":136}},{"source":"modules/timer.js","name":"timer","original":{"line":4,"column":8},"generated":{"line":1,"column":138}},{"source":"modules/timer.js","name":"document","original":{"line":4,"column":16},"generated":{"line":1,"column":140}},{"source":"modules/timer.js","name":"createElement","original":{"line":4,"column":25},"generated":{"line":1,"column":149}},{"source":"modules/timer.js","original":{"line":4,"column":39},"generated":{"line":1,"column":163}},{"source":"modules/timer.js","name":"timer","original":{"line":5,"column":2},"generated":{"line":1,"column":170}},{"source":"modules/timer.js","name":"classList","original":{"line":5,"column":8},"generated":{"line":1,"column":172}},{"source":"modules/timer.js","name":"add","original":{"line":5,"column":18},"generated":{"line":1,"column":182}},{"source":"modules/timer.js","original":{"line":5,"column":22},"generated":{"line":1,"column":186}},{"source":"modules/timer.js","original":{"line":5,"column":35},"generated":{"line":1,"column":198}},{"source":"modules/timer.js","original":{"line":5,"column":47},"generated":{"line":1,"column":209}},{"source":"modules/timer.js","original":{"line":5,"column":63},"generated":{"line":1,"column":224}},{"source":"modules/timer.js","original":{"line":5,"column":71},"generated":{"line":1,"column":231}},{"source":"modules/timer.js","original":{"line":5,"column":89},"generated":{"line":1,"column":248}},{"source":"modules/timer.js","original":{"line":5,"column":97},"generated":{"line":1,"column":255}},{"source":"modules/timer.js","original":{"line":5,"column":104},"generated":{"line":1,"column":261}},{"source":"modules/timer.js","original":{"line":5,"column":119},"generated":{"line":1,"column":275}},{"source":"modules/timer.js","original":{"line":6,"column":2},"generated":{"line":1,"column":286}},{"source":"modules/timer.js","name":"hSpan","original":{"line":6,"column":8},"generated":{"line":1,"column":290}},{"source":"modules/timer.js","name":"document","original":{"line":6,"column":16},"generated":{"line":1,"column":292}},{"source":"modules/timer.js","name":"createElement","original":{"line":6,"column":25},"generated":{"line":1,"column":301}},{"source":"modules/timer.js","original":{"line":6,"column":39},"generated":{"line":1,"column":315}},{"source":"modules/timer.js","name":"mSpan","original":{"line":7,"column":8},"generated":{"line":1,"column":323}},{"source":"modules/timer.js","name":"document","original":{"line":7,"column":16},"generated":{"line":1,"column":325}},{"source":"modules/timer.js","name":"createElement","original":{"line":7,"column":25},"generated":{"line":1,"column":334}},{"source":"modules/timer.js","original":{"line":7,"column":39},"generated":{"line":1,"column":348}},{"source":"modules/timer.js","name":"sSpan","original":{"line":8,"column":8},"generated":{"line":1,"column":356}},{"source":"modules/timer.js","name":"document","original":{"line":8,"column":16},"generated":{"line":1,"column":358}},{"source":"modules/timer.js","name":"createElement","original":{"line":8,"column":25},"generated":{"line":1,"column":367}},{"source":"modules/timer.js","original":{"line":8,"column":39},"generated":{"line":1,"column":381}},{"source":"modules/timer.js","name":"mSpan","original":{"line":9,"column":2},"generated":{"line":1,"column":389}},{"source":"modules/timer.js","name":"textContent","original":{"line":9,"column":8},"generated":{"line":1,"column":391}},{"source":"modules/timer.js","original":{"line":9,"column":22},"generated":{"line":1,"column":403}},{"source":"modules/timer.js","name":"sSpan","original":{"line":10,"column":2},"generated":{"line":1,"column":409}},{"source":"modules/timer.js","name":"textContent","original":{"line":10,"column":8},"generated":{"line":1,"column":411}},{"source":"modules/timer.js","original":{"line":10,"column":22},"generated":{"line":1,"column":423}},{"source":"modules/timer.js","name":"timer","original":{"line":11,"column":2},"generated":{"line":1,"column":428}},{"source":"modules/timer.js","name":"append","original":{"line":11,"column":8},"generated":{"line":1,"column":430}},{"source":"modules/timer.js","name":"hSpan","original":{"line":11,"column":15},"generated":{"line":1,"column":437}},{"source":"modules/timer.js","name":"mSpan","original":{"line":11,"column":22},"generated":{"line":1,"column":439}},{"source":"modules/timer.js","name":"sSpan","original":{"line":11,"column":29},"generated":{"line":1,"column":441}},{"source":"modules/timer.js","original":{"line":12,"column":2},"generated":{"line":1,"column":444}},{"source":"modules/timer.js","name":"appContainer","original":{"line":12,"column":8},"generated":{"line":1,"column":448}},{"source":"modules/timer.js","name":"document","original":{"line":12,"column":23},"generated":{"line":1,"column":450}},{"source":"modules/timer.js","name":"getElementById","original":{"line":12,"column":32},"generated":{"line":1,"column":459}},{"source":"modules/timer.js","original":{"line":12,"column":47},"generated":{"line":1,"column":474}},{"source":"modules/timer.js","name":"appContainer","original":{"line":13,"column":2},"generated":{"line":1,"column":481}},{"source":"modules/timer.js","name":"appContainer","original":{"line":13,"column":2},"generated":{"line":1,"column":487}},{"source":"modules/timer.js","name":"_appContainer$parentN","original":{"line":13,"column":26},"generated":{"line":1,"column":490}},{"source":"modules/timer.js","name":"_appContainer$parentN","original":{"line":13,"column":14},"generated":{"line":1,"column":498}},{"source":"modules/timer.js","name":"appContainer","original":{"line":13,"column":2},"generated":{"line":1,"column":500}},{"source":"modules/timer.js","name":"parentNode","original":{"line":13,"column":16},"generated":{"line":1,"column":502}},{"source":"modules/timer.js","name":"_appContainer$parentN","original":{"line":13,"column":2},"generated":{"line":1,"column":520}},{"source":"modules/timer.js","name":"_appContainer$parentN","original":{"line":13,"column":26},"generated":{"line":1,"column":524}},{"source":"modules/timer.js","name":"_appContainer$parentN","original":{"line":13,"column":2},"generated":{"line":1,"column":527}},{"source":"modules/timer.js","name":"insertBefore","original":{"line":13,"column":28},"generated":{"line":1,"column":529}},{"source":"modules/timer.js","name":"timer","original":{"line":13,"column":41},"generated":{"line":1,"column":542}},{"source":"modules/timer.js","name":"appContainer","original":{"line":13,"column":48},"generated":{"line":1,"column":544}},{"source":"modules/timer.js","original":{"line":15,"column":2},"generated":{"line":1,"column":547}},{"source":"modules/timer.js","name":"h","original":{"line":15,"column":6},"generated":{"line":1,"column":551}},{"source":"modules/timer.js","original":{"line":15,"column":10},"generated":{"line":1,"column":553}},{"source":"modules/timer.js","name":"m","original":{"line":15,"column":13},"generated":{"line":1,"column":555}},{"source":"modules/timer.js","original":{"line":15,"column":17},"generated":{"line":1,"column":557}},{"source":"modules/timer.js","name":"s","original":{"line":15,"column":20},"generated":{"line":1,"column":559}},{"source":"modules/timer.js","original":{"line":15,"column":24},"generated":{"line":1,"column":561}},{"source":"modules/timer.js","name":"secInterval","original":{"line":16,"column":8},"generated":{"line":1,"column":564}},{"source":"modules/timer.js","name":"setInterval","original":{"line":16,"column":22},"generated":{"line":1,"column":566}},{"source":"modules/timer.js","original":{"line":16,"column":34},"generated":{"line":1,"column":578}},{"source":"modules/timer.js","original":{"line":17,"column":4},"generated":{"line":1,"column":589}},{"source":"modules/timer.js","name":"s","original":{"line":17,"column":8},"generated":{"line":1,"column":592}},{"source":"modules/timer.js","original":{"line":17,"column":12},"generated":{"line":1,"column":594}},{"source":"modules/timer.js","name":"s","original":{"line":18,"column":6},"generated":{"line":1,"column":596}},{"source":"modules/timer.js","name":"sSpan","original":{"line":19,"column":6},"generated":{"line":1,"column":600}},{"source":"modules/timer.js","name":"textContent","original":{"line":19,"column":12},"generated":{"line":1,"column":602}},{"source":"modules/timer.js","name":"s","original":{"line":19,"column":26},"generated":{"line":1,"column":614}},{"source":"modules/timer.js","name":"toString","original":{"line":19,"column":28},"generated":{"line":1,"column":616}},{"source":"modules/timer.js","name":"padStart","original":{"line":19,"column":39},"generated":{"line":1,"column":627}},{"source":"modules/timer.js","original":{"line":19,"column":48},"generated":{"line":1,"column":636}},{"source":"modules/timer.js","original":{"line":19,"column":51},"generated":{"line":1,"column":638}},{"source":"modules/timer.js","original":{"line":20,"column":11},"generated":{"line":1,"column":647}},{"source":"modules/timer.js","original":{"line":21,"column":6},"generated":{"line":1,"column":648}},{"source":"modules/timer.js","original":{"line":21,"column":16},"generated":{"line":1,"column":651}},{"source":"modules/timer.js","name":"m","original":{"line":21,"column":10},"generated":{"line":1,"column":655}},{"source":"modules/timer.js","original":{"line":21,"column":27},"generated":{"line":1,"column":658}},{"source":"modules/timer.js","name":"h","original":{"line":21,"column":21},"generated":{"line":1,"column":662}},{"source":"modules/timer.js","original":{"line":27,"column":8},"generated":{"line":1,"column":664}},{"source":"modules/timer.js","name":"clearInterval","original":{"line":22,"column":8},"generated":{"line":1,"column":671}},{"source":"modules/timer.js","name":"secInterval","original":{"line":22,"column":22},"generated":{"line":1,"column":685}},{"source":"modules/timer.js","name":"timer","original":{"line":23,"column":8},"generated":{"line":1,"column":688}},{"source":"modules/timer.js","name":"innerHTML","original":{"line":23,"column":14},"generated":{"line":1,"column":690}},{"source":"modules/timer.js","original":{"line":23,"column":26},"generated":{"line":1,"column":700}},{"source":"modules/timer.js","name":"state","original":{"line":24,"column":8},"generated":{"line":1,"column":749}},{"source":"modules/timer.js","original":{"line":24,"column":13},"generated":{"line":1,"column":751}},{"source":"modules/timer.js","name":"isSaleActive","original":{"line":24,"column":14},"generated":{"line":1,"column":757}},{"source":"modules/timer.js","original":{"line":24,"column":29},"generated":{"line":1,"column":771}},{"source":"modules/timer.js","name":"productsModule","original":{"line":25,"column":8},"generated":{"line":1,"column":773}},{"source":"modules/timer.js","name":"renderProducts","original":{"line":25,"column":23},"generated":{"line":1,"column":775}},{"source":"modules/timer.js","name":"cartModule","original":{"line":26,"column":8},"generated":{"line":1,"column":797}},{"source":"modules/timer.js","name":"renderCart","original":{"line":26,"column":19},"generated":{"line":1,"column":799}},{"source":"modules/timer.js","name":"s","original":{"line":29,"column":6},"generated":{"line":1,"column":812}},{"source":"modules/timer.js","original":{"line":29,"column":10},"generated":{"line":1,"column":814}},{"source":"modules/timer.js","name":"sSpan","original":{"line":30,"column":6},"generated":{"line":1,"column":817}},{"source":"modules/timer.js","name":"textContent","original":{"line":30,"column":12},"generated":{"line":1,"column":819}},{"source":"modules/timer.js","name":"s","original":{"line":30,"column":26},"generated":{"line":1,"column":831}},{"source":"modules/timer.js","name":"toString","original":{"line":30,"column":28},"generated":{"line":1,"column":833}},{"source":"modules/timer.js","name":"padStart","original":{"line":30,"column":39},"generated":{"line":1,"column":844}},{"source":"modules/timer.js","original":{"line":30,"column":48},"generated":{"line":1,"column":853}},{"source":"modules/timer.js","original":{"line":30,"column":51},"generated":{"line":1,"column":855}},{"source":"modules/timer.js","name":"m","original":{"line":31,"column":10},"generated":{"line":1,"column":860}},{"source":"modules/timer.js","original":{"line":31,"column":14},"generated":{"line":1,"column":862}},{"source":"modules/timer.js","name":"m","original":{"line":32,"column":8},"generated":{"line":1,"column":865}},{"source":"modules/timer.js","name":"mSpan","original":{"line":33,"column":8},"generated":{"line":1,"column":869}},{"source":"modules/timer.js","name":"textContent","original":{"line":33,"column":14},"generated":{"line":1,"column":871}},{"source":"modules/timer.js","name":"m","original":{"line":33,"column":28},"generated":{"line":1,"column":883}},{"source":"modules/timer.js","name":"toString","original":{"line":33,"column":30},"generated":{"line":1,"column":885}},{"source":"modules/timer.js","name":"padStart","original":{"line":33,"column":41},"generated":{"line":1,"column":896}},{"source":"modules/timer.js","original":{"line":33,"column":50},"generated":{"line":1,"column":905}},{"source":"modules/timer.js","original":{"line":33,"column":53},"generated":{"line":1,"column":907}},{"source":"modules/timer.js","original":{"line":33,"column":60},"generated":{"line":1,"column":912}},{"source":"modules/timer.js","name":"m","original":{"line":35,"column":8},"generated":{"line":1,"column":918}},{"source":"modules/timer.js","original":{"line":35,"column":12},"generated":{"line":1,"column":920}},{"source":"modules/timer.js","name":"mSpan","original":{"line":36,"column":8},"generated":{"line":1,"column":923}},{"source":"modules/timer.js","name":"textContent","original":{"line":36,"column":14},"generated":{"line":1,"column":925}},{"source":"modules/timer.js","name":"m","original":{"line":36,"column":28},"generated":{"line":1,"column":937}},{"source":"modules/timer.js","name":"toString","original":{"line":36,"column":30},"generated":{"line":1,"column":939}},{"source":"modules/timer.js","name":"padStart","original":{"line":36,"column":41},"generated":{"line":1,"column":950}},{"source":"modules/timer.js","original":{"line":36,"column":50},"generated":{"line":1,"column":959}},{"source":"modules/timer.js","original":{"line":36,"column":53},"generated":{"line":1,"column":961}},{"source":"modules/timer.js","original":{"line":36,"column":60},"generated":{"line":1,"column":966}},{"source":"modules/timer.js","name":"h","original":{"line":37,"column":12},"generated":{"line":1,"column":970}},{"source":"modules/timer.js","original":{"line":37,"column":16},"generated":{"line":1,"column":972}},{"source":"modules/timer.js","name":"h","original":{"line":38,"column":10},"generated":{"line":1,"column":976}},{"source":"modules/timer.js","name":"hSpan","original":{"line":39,"column":10},"generated":{"line":1,"column":980}},{"source":"modules/timer.js","name":"textContent","original":{"line":39,"column":16},"generated":{"line":1,"column":982}},{"source":"modules/timer.js","name":"h","original":{"line":39,"column":30},"generated":{"line":1,"column":994}},{"source":"modules/timer.js","name":"toString","original":{"line":39,"column":32},"generated":{"line":1,"column":996}},{"source":"modules/timer.js","name":"padStart","original":{"line":39,"column":43},"generated":{"line":1,"column":1007}},{"source":"modules/timer.js","original":{"line":39,"column":52},"generated":{"line":1,"column":1016}},{"source":"modules/timer.js","original":{"line":39,"column":55},"generated":{"line":1,"column":1018}},{"source":"modules/timer.js","original":{"line":39,"column":62},"generated":{"line":1,"column":1023}},{"source":"modules/timer.js","original":{"line":43,"column":5},"generated":{"line":1,"column":1031}}],"sources":{"modules/timer.js":"import { state } from \"./state.js\";\r\n\r\nexport function initTimer(productsModule, cartModule) {\r\n  const timer = document.createElement(\"div\");\r\n  timer.classList.add(\"font-bold\", \"text-4xl\", \"text-red-500\", \"flex\", \"justify-center\", \"my-6\", \"p-4\", \"bg-gray-100\", \"rounded\");\r\n  const hSpan = document.createElement(\"span\");\r\n  const mSpan = document.createElement(\"span\");\r\n  const sSpan = document.createElement(\"span\");\r\n  mSpan.textContent = \"00:\";\r\n  sSpan.textContent = \"05\";\r\n  timer.append(hSpan, mSpan, sSpan);\r\n  const appContainer = document.getElementById(\"app\");\r\n  appContainer?.parentNode?.insertBefore(timer, appContainer);\r\n\r\n  let h = 0, m = 0, s = 59;\r\n  const secInterval = setInterval(() => {\r\n    if (s > 0) {\r\n      s--;\r\n      sSpan.textContent = s.toString().padStart(2, \"0\");\r\n    } else {\r\n      if (m === 0 && h === 0) {\r\n        clearInterval(secInterval);\r\n        timer.innerHTML = '<span class=\"text-2xl\">Акция завершена!</span>';\r\n        state.isSaleActive = false;\r\n        productsModule.renderProducts();\r\n        cartModule.renderCart();\r\n        return;\r\n      }\r\n      s = 59;\r\n      sSpan.textContent = s.toString().padStart(2, \"0\");\r\n      if (m > 0) {\r\n        m--;\r\n        mSpan.textContent = m.toString().padStart(2, \"0\") + ':';\r\n      } else {\r\n        m = 59;\r\n        mSpan.textContent = m.toString().padStart(2, \"0\") + ':';\r\n        if (h > 0) {\r\n          h--;\r\n          hSpan.textContent = h.toString().padStart(2, \"0\") + ':';\r\n        }\r\n      }\r\n    }\r\n  }, 1000);\r\n}"},"lineCount":null}},"error":null,"hash":"9380134b300d37e3d8213ad8bcb98b0c","cacheData":{"env":{}}}