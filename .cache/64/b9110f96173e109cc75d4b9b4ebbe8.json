{"id":"modules/timer.js","dependencies":[{"name":"C:\\WildberriesTMS\\package.json","includedInParent":true,"mtime":1750694789472},{"name":"./state.js","loc":{"line":1,"column":22,"index":22},"parent":"C:\\WildberriesTMS\\src\\modules\\timer.js","resolved":"C:\\WildberriesTMS\\src\\modules\\state.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initTimer = initTimer;\nvar _state = require(\"./state.js\");\nfunction initTimer(productsModule, cartModule) {\n  var _appContainer$parentN;\n  var timer = document.createElement(\"div\");\n  timer.classList.add(\"font-bold\", \"text-4xl\", \"text-red-500\", \"flex\", \"justify-center\", \"my-6\", \"p-4\", \"bg-gray-100\", \"rounded\");\n  var hSpan = document.createElement(\"span\");\n  var mSpan = document.createElement(\"span\");\n  var sSpan = document.createElement(\"span\");\n  mSpan.textContent = \"00:\";\n  sSpan.textContent = \"05\";\n  timer.append(hSpan, mSpan, sSpan);\n  var appContainer = document.getElementById(\"app\");\n  appContainer === null || appContainer === void 0 || (_appContainer$parentN = appContainer.parentNode) === null || _appContainer$parentN === void 0 || _appContainer$parentN.insertBefore(timer, appContainer);\n  var h = 0,\n    m = 0,\n    s = 59;\n  var secInterval = setInterval(function () {\n    if (s > 0) {\n      s--;\n      sSpan.textContent = s.toString().padStart(2, \"0\");\n    } else {\n      if (m === 0 && h === 0) {\n        clearInterval(secInterval);\n        timer.innerHTML = '<span class=\"text-2xl\">Акция завершена!</span>';\n        _state.state.isSaleActive = false;\n        productsModule.renderProducts();\n        cartModule.renderCart();\n        return;\n      }\n      s = 59;\n      sSpan.textContent = s.toString().padStart(2, \"0\");\n      if (m > 0) {\n        m--;\n        mSpan.textContent = m.toString().padStart(2, \"0\") + ':';\n      } else {\n        m = 59;\n        mSpan.textContent = m.toString().padStart(2, \"0\") + ':';\n        if (h > 0) {\n          h--;\n          hSpan.textContent = h.toString().padStart(2, \"0\") + ':';\n        }\n      }\n    }\n  }, 1000);\n}"},"sourceMaps":null,"error":null,"hash":"20279fce0e961c93a4118d08d9e28516","cacheData":{"env":{}}}